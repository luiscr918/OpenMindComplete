<div class="prestamos-container">

  <h1>Préstamos</h1>
  <p>Aquí puedes ver todos los libros que tienes actualmente prestados y su estado.</p>

  <div *ngIf="prestamos.length > 0; else sinPrestamos" class="tabla-prestamos">

    <table>
      <thead>
        <tr>
          <th>Portada</th>
          <th>Título</th>
          <th>Autor</th>
          <th>Fecha de Préstamo</th>
          <th>Fecha de Devolución</th>
          <th>Estado</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let libro of prestamos">
          <td><img [src]="libro.imagen || 'https://via.placeholder.com/60x90'" alt="Portada"></td>
          <td>{{ libro.titulo }}</td>
          <td>{{ libro.autor }}</td>
          <td>{{ libro.fechaPrestamo | date:'shortDate' }}</td>
          <td>{{ libro.fechaDevolucion | date:'shortDate' }}</td>
          <td>
            <span [ngClass]="{
              'activo': libro.estado === 'Activo',
              'vencido': libro.estado === 'Vencido',
              'devuelto': libro.estado === 'Devuelto'
            }">{{ libro.estado }}</span>
          </td>
        </tr>
      </tbody>
    </table>

  </div>

  <ng-template #sinPrestamos>
    <p class="sin-prestamos">No tienes libros prestados actualmente.</p>
  </ng-template>

</div>